<?xml version="1.0" encoding="utf-8"?>
<table release-module="AIData" release-side="server" type="script" version="1.141">
  <!--script\scriptdata.epic06th_heukryong.xml-->

  
  
  

  

  <script alias="zone_HeukRyong_Epic6_ai">
  </script>

  
  <script alias="4432_foot_03_ai">
    
    <decision event="env-entered">
      <filter-set>
        <filter subject="event:env-entered:creature" subject2="event:env-entered:creature" type="pc" />
      </filter-set>
      <reaction-set>
        <reaction text="환마성지 포화란 스타트 풋스위치" type="debug-trace" />
        <reaction enable="n" target="zoneenv:4432_foot_03" target2="zoneenv2spawn:4432_foot_03_spawn" type="set-env-enable" />
        
        <reaction seq="CH_WB_ChungGak_0038_path_01" target="zonenpcspawn:a_4432_34" type="set-npc-act" />
      </reaction-set>
    </decision>
  </script>

  
  <script alias="4432_foot_02_ai">
    
    <decision event="env-entered">
      <filter-set>
        <filter subject="event:env-entered:creature" subject2="event:env-entered:creature" type="pc" />
      </filter-set>
      <reaction-set>
        <reaction text="환마성지 풋스위치: 극마주술 키즈맷 ON, 문지기 돌진" type="debug-trace" />
        <reaction enable="n" target="zoneenv:4432_foot_02" target2="zoneenv2spawn:4432_foot_02_spawn" type="set-env-enable" />
        
        <reaction from="zonenpcspawn:a_4432_20" social="SiRyeonGok_pain_Kismet_on" type="play-surround-social" />
        
        <reaction amount="100" opponent="event:env-entered:creature" target="zonenpcspawn:a_4432_16" type="diff-npc-hate" />
        <reaction amount="100" opponent="event:env-entered:creature" target="zonenpcspawn:a_4432_17" type="diff-npc-hate" />
        
        <reaction target="zonenpcspawn:a_4432_62" target2="zonenpcspawn:a_4432_62" type="kill" />
        <reaction target="zonenpcspawn:a_4432_64" target2="zonenpcspawn:a_4432_64" type="kill" />
      </reaction-set>
    </decision>
  </script>

  
  <script alias="4432_DMZ_01_ai">
  </script>
  <script alias="4432_DMZ_02_ai">
  </script>
  <script alias="e_gate_4432heakryo_01">
  </script>
  <script alias="e_chest_4432stone_01_ai">
  </script>
  <script alias="e_Chest_4432hartA_01_ai">
  </script>
  <script alias="e_button_4432yongmak_ai">
  </script>

  
  <script alias="4432_foot_01_ai">
    
    <decision event="env-entered">
      <filter-set>
        <filter subject="event:env-entered:creature" subject2="event:env-entered:creature" type="pc" />
      </filter-set>
      <reaction-set>
        <reaction text="환마성지 풋스위치: 흑룡교 환술사1 퇴장 소셜 출력" type="debug-trace" />
        <reaction enable="n" target="zoneenv:4432_foot_01" target2="zoneenv2spawn:4432_foot_01_spawn" type="set-env-enable" />
        <reaction seq="MH_WB_BlackDragon_0032_act_01" target="zonenpcspawn:a_4432_18" type="set-npc-act" />
        <reaction seq="peace_fix_default" target="zonenpcspawn:a_4432_19" type="set-npc-act" />
      </reaction-set>
    </decision>
  </script>

  
  <script alias="CH_WB_ChungGak_0038_ai" parent="Boss_Immune_Slow_MoveBlock_ai">
    
    <decision event="invoked-effect" forward="y" />
    
    <decision event="npc-spawn">
      <reaction-set>
        <reaction target="event:npc-spawn:npc" type="set-undying" undying="y" />
      </reaction-set>
    </decision>
    
    <decision event="attacked">
      <filter-set>
        <filter field="hp" op="le" subject="event:attacked:defender" subject2="event:attacked:defender" type="prop" value="200" />
      </filter-set>
      <reaction-set>
        <reaction text="환마성지 포화란 HP200 이하 디스폰" type="debug-trace" />
        <reaction target-1="event:attacked:defender" type="despawn-npc" />
      </reaction-set>
    </decision>
    
    <decision event="attacked">
      <reaction-set>
        <reaction target="event:attacked:defender" target2="event:attacked:defender" type="heal-max" />
      </reaction-set>
    </decision>
    
    <decision event="act-finished">
      <filter-set>
        <filter subject="event:act-finished:seq" subject2="event:act-finished:seq" type="act-sequence" value="CH_WB_ChungGak_0038_path_01" />
      </filter-set>
      <reaction-set>
        <reaction text="환마성지 포화란 CH_WB_ChungGak_0038_path_01 종료" type="debug-trace" />
        <reaction seq="peace_fix_default" target="event:act-finished:npc" type="set-npc-act" />
        <reaction seq="burrow_out" target="zonenpcspawn:a_4432_14" type="set-npc-act" />
      </reaction-set>
    </decision>
    <decision event="act-finished">
      <filter-set>
        <filter subject="event:act-finished:seq" subject2="event:act-finished:seq" type="act-sequence" value="CH_WB_ChungGak_0038_path_02" />
      </filter-set>
      <reaction-set>
        <reaction text="환마성지 포화란 CH_WB_ChungGak_0038_path_02 종료" type="debug-trace" />
        <reaction seq="peace_fix_default" target="event:act-finished:npc" type="set-npc-act" />
        
        <reaction amount="100" opponent="zonenpcspawn:a_4432_34" target="zonenpcspawn:a_4432_15" type="diff-npc-hate" />
        <reaction amount="100" opponent="zonenpcspawn:a_4432_34" target="zonenpcspawn:a_4432_30" type="diff-npc-hate" />
        <reaction amount="100" opponent="zonenpcspawn:a_4432_34" target="zonenpcspawn:a_4432_31" type="diff-npc-hate" />
        <reaction from="zonenpcspawn:a_4432_60" social="E6_TheEvilRoom_Potal_on" type="play-surround-social" />
        <reaction group-1="zonenpcsquad:s_4432_62" type="spawn-npc-groups" />
        
        <reaction special-id="2" target="zonenpcspawn:a_4432_34" type="npc-fire-special" />
      </reaction-set>
    </decision>
    
    <decision event="npc-special">
      <filter-set>
        <filter op="eq" subject="event:npc-special:step" subject2="event:npc-special:step" type="number" value="1" />
      </filter-set>
      <reaction-set>
        <reaction text="환마성지 포화란 웨이브 앞 헤드라인" type="debug-trace" />
        <reaction spawn-1="a_4432_74" type="spawn-npc" />
      </reaction-set>
    </decision>
  </script>

  
  <script alias="ME_WB_GatlingGunWoman_0001_ai" parent="Boss_Immune_Slow_MoveBlock_ai">
    
    <decision event="invoked-effect" forward="y" />
    
    <decision event="npc-spawn">
      <filter-set>
        <filter subject="event:npc-spawn:npc" subject2="event:npc-spawn:npc" type="event-broadcasted" value="n" />
      </filter-set>
      <reaction-set>
        <reaction text="환마성지 보스전투 포화란 스폰" type="debug-trace" />
        
        <reaction from="zonenpcspawn:a_4432_60" social="E6_TheEvilRoom_Potal_off" type="play-surround-social" />
        <reaction group-1="zonenpcsquad:s_4432_62" type="despawn-npc-groups" />
        <reaction target-1="zonenpcspawn:a_4432_74" type="despawn-npc" />
        
        <reaction target-1="zonenpcspawn:a_4432_34" type="despawn-npc" />
        <reaction target="event:npc-spawn:npc" type="set-undying" undying="y" />
        <reaction seq="act_pathway1_default" target="event:npc-spawn:npc" type="set-npc-act" />
      </reaction-set>
    </decision>
    
    <decision event="act-finished">
      <reaction-set>
        <reaction text="환마성지 보스전투 포화란 이동완료" type="debug-trace" />
        <reaction attackable="y" brain="boss" hate-on="y" npc="event:act-finished:npc" type="set-npc-brain" />
        <reaction amount="1000" opponent="zonenpcspawn:a_4432_20" target="event:act-finished:npc" type="diff-npc-hate" />
      </reaction-set>
    </decision>
    
    <decision event="npc-combat-start">
      <filter-set>
        <filter subject="event:npc-combat-start:npc" subject2="event:npc-combat-start:npc" type="event-broadcasted" value="n" />
      </filter-set>
      <reaction-set>
        
        <reaction from="zonenpcspawn:a_4432_72" social="ME_WB_GatlingGunWoman_0001_soc_03" type="play-social" />
        
        <reaction spawn-1="a_4432_75" type="spawn-npc" />
      </reaction-set>
    </decision>

    
    <decision event="npc-special">
      <filter-set>
        <filter op="eq" subject="event:npc-special:step" subject2="event:npc-special:step" type="number" value="1" />
      </filter-set>
      <reaction-set>
        <reaction text="환마성지 포화란 유탄발사-&gt;힐/소셜/위치이동" type="debug-trace" />
        
        <reaction from="zonenpcspawn:a_4432_72" social="ME_WB_GatlingGunWoman_0001_battle_01" type="play-social" />
        <reaction target="event:npc-special:npc" target2="event:npc-special:npc" type="heal-max" />
        <reaction special-id="2" target="event:npc-special:npc" type="npc-fire-special" />
      </reaction-set>
    </decision>
    
    <decision event="npc-special">
      <filter-set>
        <filter op="eq" subject="event:npc-special:step" subject2="event:npc-special:step" type="number" value="2" />
      </filter-set>
      <reaction-set>
        <reaction text="환마성지 포화란 힐" type="debug-trace" />
        <reaction target="event:npc-special:npc" target2="event:npc-special:npc" type="heal-max" />
      </reaction-set>
    </decision>

    
    <decision event="invoked-effect">
      <filter-set>
        <filter subject="event:invoked-effect:npc" subject2="event:invoked-effect:npc" type="event-broadcasted" value="n" />
        <filter op="eq" subject="event:invoked-effect:effect" subject2="event:invoked-effect:effect" type="effect-id" value="ME_CH_GatlingGunWoman_None_MagazineBomb_Flag" />
      </filter-set>
      <reaction-set>
        <reaction text="환마성지 포화란 탄창폭발 투명NPC 호출" type="debug-trace" />
        <reaction target="zonenpcspawn:a_4432_72" target2="zonenpcspawn:a_4432_72" type="heal-max" />
        <reaction attack-target="event:invoked-effect:npc:last-target" spawn-1="a_4432_33" spawn-target="event:invoked-effect:npc" type="spawn-npc" />
        
        <reaction special-id="2" target="event:invoked-effect:npc" type="npc-fire-special" />
      </reaction-set>
    </decision>

    
    <decision event="attack">
      <filter-set>
        
        <filter op="ge" subject="zonenpcsquad:s_4432_20:reg-1" subject2="zonenpcsquad:s_4432_20:reg-1" type="number" value="4" />
        <filter subject="event:attack:attacker" subject2="event:attack:attacker" type="event-broadcasted" value="n" />
      </filter-set>
      <reaction-set>
        <reaction text="환마성지 포화란 공격시 보스레지가 4 이상 -&gt; 라미온 독액감옥 바로 시전, 레지 초기화" type="debug-trace" />
        <reaction target="zonenpcspawn:a_4432_72" target2="zonenpcspawn:a_4432_72" type="heal-max" />
        <reaction special-id="4" target="zonenpcspawn:a_4432_20" type="npc-fire-special" />
        <reaction amount="0" reg="1" target="zonenpcsquad:s_4432_20" type="set-party-number" />
      </reaction-set>
    </decision>
    <decision event="attack">
      
      <filter-set>
        <filter subject="event:attack:attacker" subject2="event:attack:attacker" type="event-broadcasted" value="n" />
        <filter subject="event:attack:defender:last-target" subject2="event:attack:defender:last-target" type="PC" />
      </filter-set>
      <filter-set>
        <filter subject="event:attack:attacker" subject2="event:attack:attacker" type="event-broadcasted" value="n" />
        <filter subject="event:attack:defender:last-target" subject2="event:attack:defender:last-target" type="summoned" />
      </filter-set>
      <reaction-set>
        <reaction text="환마성지 포화란 공격시 보스 마지막 대상이 PC/소환수 -&gt; 레지 초기화" type="debug-trace" />
        <reaction target="zonenpcspawn:a_4432_72" target2="zonenpcspawn:a_4432_72" type="heal-max" />
        <reaction amount="0" reg="1" target="zonenpcsquad:s_4432_20" type="set-party-number" />
      </reaction-set>
    </decision>
    <decision event="attack">
      <filter-set>
        
        <filter spawn="a_4432_72" subject="event:attack:defender:last-target" subject2="event:attack:defender:last-target" type="npc-spawn" />
        <filter subject="event:attack:attacker" subject2="event:attack:attacker" type="event-broadcasted" value="n" />
      </filter-set>
      <reaction-set>
        <reaction text="환마성지 포화란 공격시 보스 마지막 대상이 포화란 -&gt; 레지를 쌓자" type="debug-trace" />
        <reaction target="zonenpcspawn:a_4432_72" target2="zonenpcspawn:a_4432_72" type="heal-max" />
        <reaction amount="1" reg="1" target="zonenpcsquad:s_4432_20" type="diff-party-number" />
      </reaction-set>
    </decision>

    
    <decision event="npc-bleeding">
      <filter-set>
        <filter subject="event:npc-bleeding:npc" subject2="event:npc-bleeding:npc" type="event-broadcasted" value="n" />
        <filter op="eq" subject="event:npc-bleeding:bleeding-idx" subject2="event:npc-bleeding:bleeding-idx" type="number" value="1" />
      </filter-set>
      <reaction-set>
        <reaction text="환마성지 독액감옥/포화란 디스폰, 보스 전멸기" type="debug-trace" />
        
        <reaction immediately="y" target="zonenpcspawn:a_4432_72" transit-cond-idx="1" type="transit-npc-combat" />
        <reaction immediately="y" target="zonenpcspawn:a_4432_20" transit-cond-idx="1" type="transit-npc-combat" />
        
        <reaction effect="GatlingGunWoman_DispelKneel" target="zonenpcspawn:a_4432_72" type="invoke-effect" />
        <reaction target="zonenpcspawn:a_4432_73" target2="zonenpcspawn:a_4432_73" type="kill" />
        
      </reaction-set>
    </decision>

    
    <decision event="npc-special">
      <filter-set>
        <filter subject="event:npc-special:npc" subject2="event:npc-special:npc" type="event-broadcasted" value="n" />
        <filter op="eq" subject="event:npc-special:step" subject2="event:npc-special:step" type="number" value="3" />
      </filter-set>
      <reaction-set>
        <reaction text="환마성지 포화란 디스폰, 라미온 광폭화" type="debug-trace" />
        
        <reaction target="zonenpcspawn:a_4432_72" type="reset-npc-all-hate" />
        <reaction attackable="n" brain="citizen" hate-on="n" npc="zonenpcspawn:a_4432_72" type="set-npc-brain" />
        
        <reaction special-id="5" target="zonenpcspawn:a_4432_20" type="npc-fire-special" />
        
        <reaction spawn-1="a_4432_39" type="spawn-npc" />
        
        <reaction spawn-1="a_4432_76" type="spawn-npc" />
        
        <reaction seq="ME_WB_GatlingGunWoman_0001_act_02" target="event:npc-special:npc" type="set-npc-act" />
        
      </reaction-set>
    </decision>
  </script>

  
  <script alias="ME_WB_GatlingGunWoman_0002_ai">
    
    <decision event="npc-spawn">
      <filter-set>
        <filter subject="event:npc-spawn:npc" subject2="event:npc-spawn:npc" type="event-broadcasted" value="n" />
      </filter-set>
      <reaction-set>
        <reaction seq="ME_WB_GatlingGunWoman_0002_Peace" target="event:npc-spawn:npc" type="set-npc-act" />
      </reaction-set>
    </decision>
  </script>

  
  <script alias="ME_WB_GolemLeader_0001_ai">
    
    <decision event="npc-spawn">
      <filter-set>
        <filter subject="event:npc-spawn:npc" subject2="event:npc-spawn:npc" type="event-broadcasted" value="n" />
      </filter-set>
      <reaction-set>
        <reaction target="event:npc-spawn:npc" type="set-undying" undying="y" />
        <reaction seq="burrow_06" target="event:npc-spawn:npc" type="set-npc-act" />
      </reaction-set>
    </decision>

    
    <decision event="boss-bleeding">
      <filter-set>
        <filter subject="event:boss-bleeding:boss" subject2="event:boss-bleeding:boss" type="event-broadcasted" value="n" />
      </filter-set>
      <reaction-set>
        <reaction text="환마성지 녹암석괴 녹석괴 깨우기 연출" type="debug-trace" />
        <reaction from="event:boss-bleeding:boss" social="3" type="play-indexed-social" />
        <reaction special-id="3" target="event:boss-bleeding:boss" type="npc-fire-special" />
      </reaction-set>
    </decision>

    
    <decision event="npc-special">
      <filter-set>
        <filter op="eq" subject="event:npc-special:step" subject2="event:npc-special:step" type="number" value="1" />
        <filter op="eq" subject="event:npc-special:npc:reg-1" subject2="event:npc-special:npc:reg-1" type="number" value="0" />
      </filter-set>
      <reaction-set>
        <reaction text="환마성지 녹암석괴 HP90% 녹석괴 깨우기" type="debug-trace" />
        <reaction seq="burrow_out" target="zonenpcsquad:s_4432_6:1" type="set-npc-act" />
        <reaction amount="100" opponent="event:npc-special:npc:last-target" target="zonenpcsquad:s_4432_6:1" type="diff-npc-hate" />
        <reaction amount="1" reg="1" target="event:npc-special:npc" type="diff-npc-number" />
      </reaction-set>
    </decision>
    <decision event="npc-special">
      <filter-set>
        <filter op="eq" subject="event:npc-special:step" subject2="event:npc-special:step" type="number" value="1" />
        <filter op="eq" subject="event:npc-special:npc:reg-1" subject2="event:npc-special:npc:reg-1" type="number" value="1" />
      </filter-set>
      <reaction-set>
        <reaction text="환마성지 녹암석괴 HP80% 녹석괴 깨우기" type="debug-trace" />
        
        <reaction from="event:npc-bleeding:npc" social="2" type="play-indexed-social" />
        <reaction seq="burrow_out" target="zonenpcsquad:s_4432_6:2" type="set-npc-act" />
        <reaction amount="100" opponent="event:npc-special:npc:last-target" target="zonenpcsquad:s_4432_6:2" type="diff-npc-hate" />
        <reaction amount="1" reg="1" target="event:npc-special:npc" type="diff-npc-number" />
      </reaction-set>
    </decision>
    <decision event="npc-special">
      <filter-set>
        <filter op="eq" subject="event:npc-special:step" subject2="event:npc-special:step" type="number" value="1" />
        <filter op="eq" subject="event:npc-special:npc:reg-1" subject2="event:npc-special:npc:reg-1" type="number" value="2" />
      </filter-set>
      <reaction-set>
        <reaction text="환마성지 녹암석괴 HP70% 녹석괴 깨우기" type="debug-trace" />
        <reaction seq="burrow_out" target="zonenpcsquad:s_4432_6:3" type="set-npc-act" />
        <reaction amount="100" opponent="event:npc-special:npc:last-target" target="zonenpcsquad:s_4432_6:3" type="diff-npc-hate" />
        <reaction amount="1" reg="1" target="event:npc-special:npc" type="diff-npc-number" />
      </reaction-set>
    </decision>
    <decision event="npc-special">
      <filter-set>
        <filter op="eq" subject="event:npc-special:step" subject2="event:npc-special:step" type="number" value="1" />
        <filter op="eq" subject="event:npc-special:npc:reg-1" subject2="event:npc-special:npc:reg-1" type="number" value="3" />
      </filter-set>
      <reaction-set>
        <reaction text="환마성지 녹암석괴 HP60% 녹석괴 깨우기" type="debug-trace" />
        <reaction seq="burrow_out" target="zonenpcsquad:s_4432_6:4" type="set-npc-act" />
        <reaction amount="100" opponent="event:npc-special:npc:last-target" target="zonenpcsquad:s_4432_6:4" type="diff-npc-hate" />
        <reaction amount="1" reg="1" target="event:npc-special:npc" type="diff-npc-number" />
      </reaction-set>
    </decision>
    <decision event="npc-special">
      <filter-set>
        <filter op="eq" subject="event:npc-special:step" subject2="event:npc-special:step" type="number" value="1" />
        <filter op="eq" subject="event:npc-special:npc:reg-1" subject2="event:npc-special:npc:reg-1" type="number" value="4" />
      </filter-set>
      <reaction-set>
        <reaction text="환마성지 녹암석괴 HP50% 녹석괴 깨우기" type="debug-trace" />
        <reaction seq="burrow_out" target="zonenpcsquad:s_4432_6:5" type="set-npc-act" />
        <reaction amount="100" opponent="event:npc-special:npc:last-target" target="zonenpcsquad:s_4432_6:5" type="diff-npc-hate" />
        <reaction amount="1" reg="1" target="event:npc-special:npc" type="diff-npc-number" />
      </reaction-set>
    </decision>
    <decision event="npc-special">
      <filter-set>
        <filter op="eq" subject="event:npc-special:step" subject2="event:npc-special:step" type="number" value="1" />
        <filter op="eq" subject="event:npc-special:npc:reg-1" subject2="event:npc-special:npc:reg-1" type="number" value="5" />
      </filter-set>
      <reaction-set>
        <reaction text="환마성지 녹암석괴 HP40% 녹석괴 깨우기" type="debug-trace" />
        <reaction seq="burrow_out" target="zonenpcsquad:s_4432_6:6" type="set-npc-act" />
        <reaction amount="100" opponent="event:npc-special:npc:last-target" target="zonenpcsquad:s_4432_6:6" type="diff-npc-hate" />
        <reaction amount="1" reg="1" target="event:npc-special:npc" type="diff-npc-number" />
      </reaction-set>
    </decision>
    <decision event="npc-special">
      <filter-set>
        <filter op="eq" subject="event:npc-special:step" subject2="event:npc-special:step" type="number" value="1" />
        <filter op="eq" subject="event:npc-special:npc:reg-1" subject2="event:npc-special:npc:reg-1" type="number" value="6" />
      </filter-set>
      <reaction-set>
        <reaction text="환마성지 녹암석괴 HP30% 녹석괴 깨우기" type="debug-trace" />
        <reaction seq="burrow_out" target="zonenpcsquad:s_4432_6:7" type="set-npc-act" />
        <reaction amount="100" opponent="event:npc-special:npc:last-target" target="zonenpcsquad:s_4432_6:7" type="diff-npc-hate" />
        <reaction amount="1" reg="1" target="event:npc-special:npc" type="diff-npc-number" />
      </reaction-set>
    </decision>

    
    <decision event="npc-combat-end">
      <filter-set>
        <filter field="hp" op="le" subject="event:npc-combat-end:npc" subject2="event:npc-combat-end:npc" type="prop-percent" value="99" />
      </filter-set>
      <reaction-set>
        <reaction attackable="n" brain="citizen" hate-on="n" npc="zonenpcsquad:s_4432_3:1" type="set-npc-brain" />
        <reaction attackable="n" brain="citizen" hate-on="n" npc="zonenpcsquad:s_4432_3:2" type="set-npc-brain" />
        <reaction attackable="n" brain="citizen" hate-on="n" npc="zonenpcsquad:s_4432_3:3" type="set-npc-brain" />
        <reaction attackable="n" brain="citizen" hate-on="n" npc="zonenpcsquad:s_4432_6:1" type="set-npc-brain" />
        <reaction attackable="n" brain="citizen" hate-on="n" npc="zonenpcsquad:s_4432_6:2" type="set-npc-brain" />
        <reaction attackable="n" brain="citizen" hate-on="n" npc="zonenpcsquad:s_4432_6:3" type="set-npc-brain" />
        <reaction attackable="n" brain="citizen" hate-on="n" npc="zonenpcsquad:s_4432_6:4" type="set-npc-brain" />
        <reaction attackable="n" brain="citizen" hate-on="n" npc="zonenpcsquad:s_4432_6:5" type="set-npc-brain" />
        <reaction attackable="n" brain="citizen" hate-on="n" npc="zonenpcsquad:s_4432_6:6" type="set-npc-brain" />
        <reaction attackable="n" brain="citizen" hate-on="n" npc="zonenpcsquad:s_4432_6:7" type="set-npc-brain" />
        <reaction target="zonenpcsquad:s_4432_3:1" type="reset-npc-all-hate" />
        <reaction target="zonenpcsquad:s_4432_3:2" type="reset-npc-all-hate" />
        <reaction target="zonenpcsquad:s_4432_3:3" type="reset-npc-all-hate" />
        <reaction target="zonenpcsquad:s_4432_6:1" type="reset-npc-all-hate" />
        <reaction target="zonenpcsquad:s_4432_6:2" type="reset-npc-all-hate" />
        <reaction target="zonenpcsquad:s_4432_6:3" type="reset-npc-all-hate" />
        <reaction target="zonenpcsquad:s_4432_6:4" type="reset-npc-all-hate" />
        <reaction target="zonenpcsquad:s_4432_6:5" type="reset-npc-all-hate" />
        <reaction target="zonenpcsquad:s_4432_6:6" type="reset-npc-all-hate" />
        <reaction target="zonenpcsquad:s_4432_6:7" type="reset-npc-all-hate" />
        <reaction seq="burrow_xdetect_default" target="zonenpcsquad:s_4432_3:1" type="set-npc-act" />
        <reaction seq="burrow_xdetect_default" target="zonenpcsquad:s_4432_3:2" type="set-npc-act" />
        <reaction seq="burrow_xdetect_default" target="zonenpcsquad:s_4432_3:3" type="set-npc-act" />
        <reaction seq="burrow_xdetect_default" target="zonenpcsquad:s_4432_6:1" type="set-npc-act" />
        <reaction seq="burrow_xdetect_default" target="zonenpcsquad:s_4432_6:2" type="set-npc-act" />
        <reaction seq="burrow_xdetect_default" target="zonenpcsquad:s_4432_6:3" type="set-npc-act" />
        <reaction seq="burrow_xdetect_default" target="zonenpcsquad:s_4432_6:4" type="set-npc-act" />
        <reaction seq="burrow_xdetect_default" target="zonenpcsquad:s_4432_6:5" type="set-npc-act" />
        <reaction seq="burrow_xdetect_default" target="zonenpcsquad:s_4432_6:6" type="set-npc-act" />
        <reaction seq="burrow_xdetect_default" target="zonenpcsquad:s_4432_6:7" type="set-npc-act" />
      </reaction-set>
    </decision>

    
    <decision event="npc-bleeding">
      <filter-set>
        <filter op="eq" subject="event:npc-bleeding:bleeding-idx" subject2="event:npc-bleeding:bleeding-idx" type="number" value="1" />
      </filter-set>
      <reaction-set>
        <reaction text="환마성지 녹암석괴 체력10% 연극시작" type="debug-trace" />
        <reaction target="event:npc-bleeding:npc" type="dispel-buff" />
        <reaction target="event:npc-bleeding:npc" type="dispel-debuff" />
        <reaction opponent="event:npc-bleeding:npc" target="zonenpcspawn:a_4432_34" type="reset-npc-hate" />
        <reaction attackable="n" brain="citizen" hate-on="n" npc="zonenpcspawn:a_4432_34" type="set-npc-brain" />
        <reaction attackable="n" brain="citizen" hate-on="n" npc="event:npc-bleeding:npc" type="set-npc-brain" />
        <reaction seq="ME_WB_GolemLeader_0001_act_01" target="event:npc-bleeding:npc" type="set-npc-act" />
      </reaction-set>
    </decision>

    
    <decision event="act-finished">
      <filter-set>
        <filter subject="event:act-finished:seq" subject2="event:act-finished:seq" type="act-sequence" value="ME_WB_GolemLeader_0001_act_01" />
      </filter-set>
      <reaction-set>
        <reaction text="환마성지 녹암석괴 길열기 연극" type="debug-trace" />
        <reaction attackable="n" brain="monster" hate-on="y" npc="event:act-finished:npc" type="set-npc-brain" />
        <reaction amount="9999" opponent="zonenpcspawn:a_4432_32" target="event:act-finished:npc" type="diff-npc-hate" />
      </reaction-set>
    </decision>

    
    <decision event="npc-combat-start">
      <filter-set>
        <filter spawn="a_4432_32" subject="event:npc-combat-start:target" subject2="event:npc-combat-start:target" type="npc-spawn" />
      </filter-set>
      <reaction-set>
        <reaction text="환마성지 녹암석괴 투명NPC대상 스페셜" type="debug-trace" />
        <reaction special-id="4" target="event:npc-combat-start:npc" type="npc-fire-special" />
      </reaction-set>
    </decision>

    
    <decision event="npc-special">
      <filter-set>
        <filter op="eq" subject="event:npc-special:step" subject2="event:npc-special:step" type="number" value="2" />
      </filter-set>
      <reaction-set>
        <reaction text="환마성지 녹암석괴 길열기 후 포화란 이동시작" type="debug-trace" />
        <reaction attackable="n" brain="citizen" hate-on="n" npc="event:npc-special:npc" type="set-npc-brain" />
        <reaction seq="ME_WB_GolemLeader_0001_act_02" target="event:npc-special:npc" type="set-npc-act" />
        <reaction target-1="zonenpcspawn:a_4432_32" type="despawn-npc" />
        <reaction enable="n" target="zoneenv:4432_DMZ_02" target2="zoneenv2spawn:4432_DMZ_02_spawn" type="set-env-enable" />
        <reaction attackable="y" brain="boss" hate-on="y" npc="zonenpcspawn:a_4432_34" type="set-npc-brain" />
        <reaction opponent="event:npc-special:npc" target="zonenpcspawn:a_4432_34" type="reset-npc-hate" />
        <reaction seq="CH_WB_ChungGak_0038_path_02" target="zonenpcspawn:a_4432_34" type="set-npc-act" />
        
        <reaction spawn-1="a_4432_20" type="spawn-npc" />
      </reaction-set>
    </decision>
  </script>

  
  <script alias="ME_WB_Golem_0001_ai">
  </script>
  
  <script alias="ME_WB_Golem_0002_ai">
  </script>

  
  <script alias="ME_WB_Dummy_0076_ai">
    
    <decision event="npc-spawn">
      <reaction-set>
        <reaction target="event:npc-spawn:npc" type="set-undying" undying="y" />
        <reaction seq="act_wait_3sec_xdetect" target="event:npc-spawn:npc" type="set-npc-act" />
      </reaction-set>
    </decision>
    
    <decision event="act-finished">
      <filter-set>
        <filter subject="event:act-finished:seq" subject2="event:act-finished:seq" type="act-sequence" value="act_wait_3sec_xdetect" />
      </filter-set>
      <reaction-set>
        <reaction text="환마성지 문열기 투명NPC 3초대기 후 키즈맷 epic6_Siryun_IceDoor_on" type="debug-trace" />
        <reaction from="event:act-finished:npc" social="epic6_Siryun_IceDoor_on" type="play-surround-social" />
      </reaction-set>
    </decision>
  </script>

  
  <script alias="MH_WB_BlackDragon_0032_ai">
    
    <decision event="npc-spawn">
      <reaction-set>
        <reaction seq="MH_WB_BlackDragon_0032_peace" target="event:npc-spawn:npc" type="set-npc-act" />
      </reaction-set>
    </decision>
    
    <decision event="act-finished">
      <filter-set>
        <filter subject="event:act-finished:seq" subject2="event:act-finished:seq" type="act-sequence" value="MH_WB_BlackDragon_0032_act_01" />
      </filter-set>
      <reaction-set>
        <reaction text="환마성지 환술사1 소셜후 환술사2 소셜" type="debug-trace" />
        <reaction seq="MH_WB_BlackDragon_0032_act_02" target="zonenpcspawn:a_4432_19" type="set-npc-act" />
      </reaction-set>
    </decision>
    
    <decision event="act-finished">
      <filter-set>
        <filter subject="event:act-finished:seq" subject2="event:act-finished:seq" type="act-sequence" value="MH_WB_BlackDragon_0032_act_02" />
      </filter-set>
      <reaction-set>
        <reaction text="환마성지 극마주술 키즈맷 OFF, 환술사 디스폰" type="debug-trace" />
        <reaction from="zonenpcspawn:a_4432_60" social="SiRyeonGok_pain_Kismet_off" type="play-surround-social" />
        <reaction attackable="y" brain="boss" hate-on="y" npc="zonenpcspawn:a_4432_20" type="set-npc-brain" />
        <reaction target-1="zonenpcspawn:a_4432_18" target-2="zonenpcspawn:a_4432_19" type="despawn-npc" />
      </reaction-set>
    </decision>
  </script>

  
  <script alias="MH_WB_BlackDragon_0077_ai">
    
    <decision event="npc-spawn">
      <filter-set>
        <filter spawn="a_4432_62" subject="event:npc-spawn:npc" subject2="event:npc-spawn:npc" type="npc-spawn" />
      </filter-set>
      <filter-set>
        <filter spawn="a_4432_63" subject="event:npc-spawn:npc" subject2="event:npc-spawn:npc" type="npc-spawn" />
      </filter-set>
      <filter-set>
        <filter spawn="a_4432_64" subject="event:npc-spawn:npc" subject2="event:npc-spawn:npc" type="npc-spawn" />
      </filter-set>
      <filter-set>
        <filter spawn="a_4432_65" subject="event:npc-spawn:npc" subject2="event:npc-spawn:npc" type="npc-spawn" />
      </filter-set>
      <reaction-set>
        
        <reaction attackable="n" brain="citizen" hate-on="n" npc="event:npc-spawn:npc" type="set-npc-brain" />
        <reaction seq="act_pathway1_xdetect_default" target="event:npc-spawn:npc" type="set-npc-act" />
      </reaction-set>
    </decision>
    
    <decision event="act-finished">
      <filter-set>
        <filter subject="event:act-finished:npc" subject2="event:act-finished:npc" type="event-broadcasted" value="n" />
        <filter spawn="a_4432_62" subject="event:act-finished:npc" subject2="event:act-finished:npc" type="npc-spawn" />
      </filter-set>
      <filter-set>
        <filter subject="event:act-finished:npc" subject2="event:act-finished:npc" type="event-broadcasted" value="n" />
        <filter spawn="a_4432_63" subject="event:act-finished:npc" subject2="event:act-finished:npc" type="npc-spawn" />
      </filter-set>
      <filter-set>
        <filter subject="event:act-finished:npc" subject2="event:act-finished:npc" type="event-broadcasted" value="n" />
        <filter spawn="a_4432_64" subject="event:act-finished:npc" subject2="event:act-finished:npc" type="npc-spawn" />
      </filter-set>
      <filter-set>
        <filter subject="event:act-finished:npc" subject2="event:act-finished:npc" type="event-broadcasted" value="n" />
        <filter spawn="a_4432_65" subject="event:act-finished:npc" subject2="event:act-finished:npc" type="npc-spawn" />
      </filter-set>
      <reaction-set>
        
        <reaction attackable="y" brain="monster" hate-on="y" npc="event:act-finished:npc" type="set-npc-brain" />
        <reaction seq="peace_fix_default" target="event:act-finished:npc" type="set-npc-act" />
        <reaction amount="9999" opponent="zonenpcspawn:a_4432_34" target="event:act-finished:npc" type="diff-npc-hate" />
        <reaction amount="9999" opponent="zonenpcspawn:a_4432_34" target="event:act-finished:npc" type="diff-npc-hate" />
        <reaction amount="9999" opponent="zonenpcspawn:a_4432_34" target="event:act-finished:npc" type="diff-npc-hate" />
        <reaction amount="9999" opponent="zonenpcspawn:a_4432_34" target="event:act-finished:npc" type="diff-npc-hate" />
        <reaction amount="9999" opponent="zonenpcspawn:a_4432_34" target="event:act-finished:npc" type="diff-npc-hate" />
      </reaction-set>
    </decision>
    
    <decision event="npc-combat-start">
      <filter-set>
        <filter subject="event:npc-combat-start:npc" subject2="event:npc-combat-start:npc" type="event-broadcasted" value="n" />
        <filter spawn="a_4432_15" subject="event:npc-combat-start:npc" subject2="event:npc-combat-start:npc" type="npc-spawn" />
      </filter-set>
      <reaction-set>
        <reaction text="환마성지 웨이브 앞쪽 환술사 전투시작. 뒤쪽 칼날병사도 포화란 공격." type="debug-trace" />
        <reaction amount="1" opponent="zonenpcspawn:a_4432_34" target="zonenpcspawn:a_4432_30" type="diff-npc-hate" />
        <reaction amount="1" opponent="zonenpcspawn:a_4432_34" target="zonenpcspawn:a_4432_31" type="diff-npc-hate" />
      </reaction-set>
    </decision>

    
    <decision event="npc-special">
      <filter-set>
        <filter subject="event:npc-special:npc" subject2="event:npc-special:npc" type="event-broadcasted" value="n" />
        <filter spawn="a_4432_62" subject="event:npc-special:npc" subject2="event:npc-special:npc" type="npc-spawn" />
        <filter op="eq" subject="event:npc-special:step" subject2="event:npc-special:step" type="number" value="1" />
      </filter-set>
      <filter-set>
        <filter subject="event:npc-special:npc" subject2="event:npc-special:npc" type="event-broadcasted" value="n" />
        <filter spawn="a_4432_63" subject="event:npc-special:npc" subject2="event:npc-special:npc" type="npc-spawn" />
        <filter op="eq" subject="event:npc-special:step" subject2="event:npc-special:step" type="number" value="1" />
      </filter-set>
      <filter-set>
        <filter subject="event:npc-special:npc" subject2="event:npc-special:npc" type="event-broadcasted" value="n" />
        <filter spawn="a_4432_64" subject="event:npc-special:npc" subject2="event:npc-special:npc" type="npc-spawn" />
        <filter op="eq" subject="event:npc-special:step" subject2="event:npc-special:step" type="number" value="1" />
      </filter-set>
      <filter-set>
        <filter subject="event:npc-special:npc" subject2="event:npc-special:npc" type="event-broadcasted" value="n" />
        <filter spawn="a_4432_65" subject="event:npc-special:npc" subject2="event:npc-special:npc" type="npc-spawn" />
        <filter op="eq" subject="event:npc-special:step" subject2="event:npc-special:step" type="number" value="1" />
      </filter-set>
      <reaction-set>
        <reaction group-1="zonenpcsquad:s_4432_62" type="spawn-npc-groups" />
      </reaction-set>
    </decision>
    
    <decision event="killed">
      <filter-set>
        <filter subject="event:killed:defender" subject2="event:killed:defender" type="event-broadcasted" value="n" />
        <filter spawn="a_4432_62" subject="event:killed:defender" subject2="event:killed:defender" type="npc-spawn" />
      </filter-set>
      <filter-set>
        <filter subject="event:killed:defender" subject2="event:killed:defender" type="event-broadcasted" value="n" />
        <filter spawn="a_4432_63" subject="event:killed:defender" subject2="event:killed:defender" type="npc-spawn" />
      </filter-set>
      <filter-set>
        <filter subject="event:killed:defender" subject2="event:killed:defender" type="event-broadcasted" value="n" />
        <filter spawn="a_4432_64" subject="event:killed:defender" subject2="event:killed:defender" type="npc-spawn" />
      </filter-set>
      <filter-set>
        <filter subject="event:killed:defender" subject2="event:killed:defender" type="event-broadcasted" value="n" />
        <filter spawn="a_4432_65" subject="event:killed:defender" subject2="event:killed:defender" type="npc-spawn" />
      </filter-set>
      <reaction-set>
        <reaction group-1="zonenpcsquad:s_4432_62" type="spawn-npc-groups" />
      </reaction-set>
    </decision>
  </script>

  
  <script alias="ME_WB_SnakeSoldier_0002_ai" parent="Boss_Immune_Slow_MoveBlock_ai">
    
    <decision event="invoked-effect" forward="y" />
    
    <decision event="npc-spawn">
      <filter-set>
        <filter subject="event:npc-spawn:npc" subject2="event:npc-spawn:npc" type="event-broadcasted" value="n" />
      </filter-set>
      <reaction-set>
        <reaction text="보스 스폰 후 브레인 citizen으로" type="debug-trace" />
        <reaction attackable="n" brain="citizen" hate-on="n" npc="event:npc-spawn:npc" type="set-npc-brain" />
        <reaction seq="peace_pathway1_default" target="event:npc-spawn:npc" type="set-npc-act" />
      </reaction-set>
    </decision>
    
    <decision event="npc-combat-start">
      <reaction-set>
        <reaction amount="0" reg="1" target="event:npc-combat-start:npc" type="set-npc-number" />
        <reaction amount="0" reg="1" target="event:npc-combat-start:npc:npc-party" type="set-party-number" />
        <reaction enable="n" target="zoneenv:e_Chest_4432hartA_01" target2="zoneenv2spawn:e_Chest_4432hartA_01_spawn" type="set-env-enable" />
        <reaction enable="y" target="zoneenv:4432_DMZ_01" target2="zoneenv2spawn:4432_DMZ_01_spawn" type="set-env-enable" />
        
        <reaction from="event:npc-combat-start:npc" social="ME_WB_SnakeSoldier_0002_combatstart_01" type="play-social" />
        <reaction target-1="zonenpcspawn:a_4432_39" type="despawn-npc" />
        
        <reaction effect="MH_Common_speedup" target="event:npc-combat-start:npc" type="invoke-effect" />
      </reaction-set>
    </decision>

    
    <decision event="npc-special">
      <filter-set>
        <filter subject="event:npc-special:npc" subject2="event:npc-special:npc" type="event-broadcasted" value="n" />
        <filter op="eq" subject="event:npc-special:step" subject2="event:npc-special:step" type="number" value="2" />
      </filter-set>
      <reaction-set>
        <reaction text="환마성지 보스 전투시작 10초 후 포화란 난입" type="debug-trace" />
        <reaction spawn-1="a_4432_72" type="spawn-npc" />
      </reaction-set>
    </decision>

    
    <decision event="invoked-effect">
      <filter-set>
        <filter subject="event:invoked-effect:npc" subject2="event:invoked-effect:npc" type="event-broadcasted" value="n" />
        <filter op="eq" subject="event:invoked-effect:npc:reg-1" subject2="event:invoked-effect:npc:reg-1" type="number" value="0" />
        <filter op="eq" subject="event:invoked-effect:effect" subject2="event:invoked-effect:effect" type="effect-id" value="GatlingGunWoman_None_BulletDoubleFire1_Q_damage" />
      </filter-set>
      <filter-set>
        <filter subject="event:invoked-effect:npc" subject2="event:invoked-effect:npc" type="event-broadcasted" value="n" />
        <filter op="eq" subject="event:invoked-effect:npc:reg-1" subject2="event:invoked-effect:npc:reg-1" type="number" value="0" />
        <filter op="eq" subject="event:invoked-effect:effect" subject2="event:invoked-effect:effect" type="effect-id" value="GatlingGunWoman_None_BulletDoubleFire1_Q_Simdamage" />
      </filter-set>
      <reaction-set>
        <reaction text="환마성지 보스 유탄피격 셀프대미지 및 페이즈 전환" type="debug-trace" />
        <reaction caster="zonenpcspawn:a_4432_20" effect="Quest_SnakeSoldier_Counter_damage" target="zonenpcspawn:a_4432_20" type="invoke-effect" />
        <reaction amount="1" reg="1" target="event:invoked-effect:npc" type="diff-npc-number" />
        <reaction immediately="y" target="event:invoked-effect:npc" transit-cond-idx="1" type="transit-npc-combat" />
      </reaction-set>
    </decision>

    
    <decision event="invoked-effect">
      <filter-set>
        <filter subject="event:invoked-effect:npc" subject2="event:invoked-effect:npc" type="event-broadcasted" value="n" />
        <filter op="eq" subject="event:invoked-effect:npc:reg-1" subject2="event:invoked-effect:npc:reg-1" type="number" value="1" />
        <filter op="eq" subject="event:invoked-effect:effect" subject2="event:invoked-effect:effect" type="effect-id" value="GatlingGunWoman_None_BulletDoubleFire1_Q_Simdamage" />
      </filter-set>
      <reaction-set>
        <reaction caster="zonenpcspawn:a_4432_20" effect="Quest_SnakeSoldier_Counter_damage" target="zonenpcspawn:a_4432_20" type="invoke-effect" />
      </reaction-set>
    </decision>

    
    <decision event="npc-special">
      <filter-set>
        <filter subject="event:npc-special:npc" subject2="event:npc-special:npc" type="event-broadcasted" value="n" />
        <filter op="eq" subject="event:npc-special:step" subject2="event:npc-special:step" type="number" value="1" />
      </filter-set>
      <reaction-set>
        <reaction text="환마성지 보스 포화란 구속, 쫄 스쿼드 소환" type="debug-trace" />
        <reaction effect="GatlingGunWoman_Kneel" target="zonenpcspawn:a_4432_72" type="invoke-effect" />
        <reaction attack-target="zonenpcspawn:a_4432_72" spawn-1="a_4432_73" spawn-radius="0" spawn-target="zonenpcspawn:a_4432_72" type="spawn-npc" />
        <reaction from="zonenpcspawn:a_4432_72" social="ME_WB_GatlingGunWoman_0001_battle_04" type="play-social" />
        
        <reaction from="zonenpcspawn:a_4432_72" social="ME_WB_GatlingGunWoman_0001_battle_03" type="play-social" />
        <reaction group-1="zonenpcsquad:s_4432_35" type="spawn-npc-groups" />
      </reaction-set>
    </decision>

    
    
    
    <decision event="attack">
      <reaction-set>
        <reaction amount="100" opponent="zonenpcspawn:a_4432_20:last-target" target="zonenpcspawn:a_4432_35" type="diff-npc-hate" />
        <reaction amount="100" opponent="zonenpcspawn:a_4432_20:last-target" target="zonenpcspawn:a_4432_36" type="diff-npc-hate" />
        <reaction amount="100" opponent="zonenpcspawn:a_4432_20:last-target" target="zonenpcspawn:a_4432_37" type="diff-npc-hate" />
        <reaction amount="100" opponent="zonenpcspawn:a_4432_20:last-target" target="zonenpcspawn:a_4432_38" type="diff-npc-hate" />
        <reaction amount="1" opponent="zonenpcspawn:a_4432_72" target="zonenpcspawn:a_4432_35" type="diff-npc-hate" />
        <reaction amount="1" opponent="zonenpcspawn:a_4432_72" target="zonenpcspawn:a_4432_36" type="diff-npc-hate" />
        <reaction amount="1" opponent="zonenpcspawn:a_4432_72" target="zonenpcspawn:a_4432_37" type="diff-npc-hate" />
        <reaction amount="1" opponent="zonenpcspawn:a_4432_72" target="zonenpcspawn:a_4432_38" type="diff-npc-hate" />
      </reaction-set>
    </decision>

    
    <decision event="npc-bleeding">
      <filter-set>
        <filter subject="event:npc-bleeding:npc" subject2="event:npc-bleeding:npc" type="event-broadcasted" value="n" />
        <filter op="eq" subject="event:npc-bleeding:bleeding-idx" subject2="event:npc-bleeding:bleeding-idx" type="number" value="1" />
      </filter-set>
      <reaction-set>
        
        <reaction from="event:npc-bleeding:npc" social="ME_WB_SnakeSoldier_0002_battle_03" type="play-social" />
      </reaction-set>
    </decision>
    <decision event="npc-bleeding">
      <filter-set>
        <filter subject="event:npc-bleeding:npc" subject2="event:npc-bleeding:npc" type="event-broadcasted" value="n" />
        <filter op="eq" subject="event:npc-bleeding:bleeding-idx" subject2="event:npc-bleeding:bleeding-idx" type="number" value="2" />
      </filter-set>
      <reaction-set>
        
        <reaction from="event:npc-bleeding:npc" social="ME_WB_SnakeSoldier_0002_battle_04" type="play-social" />
      </reaction-set>
    </decision>

    
    <decision event="killed">
      <reaction-set>
        <reaction text="환마성지 보스 사망" type="debug-trace" />
        
        <reaction target="zonenpcspawn:a_4432_35" target2="zonenpcspawn:a_4432_35" type="kill" />
        <reaction target="zonenpcspawn:a_4432_36" target2="zonenpcspawn:a_4432_36" type="kill" />
        <reaction target="zonenpcspawn:a_4432_37" target2="zonenpcspawn:a_4432_37" type="kill" />
        <reaction target="zonenpcspawn:a_4432_37" target2="zonenpcspawn:a_4432_38" type="kill" />
        
        <reaction target-1="zonenpcspawn:a_4432_33" type="despawn-npc" />
        <reaction target-1="zonenpcspawn:a_4432_74" type="despawn-npc" />
        <reaction target-1="zonenpcspawn:a_4432_75" type="despawn-npc" />
        <reaction target-1="zonenpcspawn:a_4432_76" type="despawn-npc" />
        
        <reaction target="zonenpcspawn:a_4432_73" target2="zonenpcspawn:a_4432_73" type="kill" />
        <reaction effect="GatlingGunWoman_DispelKneel" target="zonenpcspawn:a_4432_72" type="invoke-effect" />
        
        <reaction enable="n" target="zoneenv:4432_DMZ_01" target2="zoneenv2spawn:4432_DMZ_01_spawn" type="set-env-enable" />
        <reaction enable="y" target="zoneenv:e_button_4432yongmak" target2="zoneenv2spawn:e_button_4432yongmak_spawn" type="set-env-enable" />
        
        <reaction attackable="n" brain="citizen" hate-on="n" npc="zonenpcspawn:a_4432_72" type="set-npc-brain" />
        <reaction seq="ME_WB_GatlingGunWoman_0001_act_01" target="zonenpcspawn:a_4432_72" type="set-npc-act" />
      </reaction-set>
    </decision>
    
    <decision event="npc-combat-end">
      <filter-set>
        <filter field="dead" op="neq" subject="event:npc-combat-end:npc" subject2="event:npc-combat-end:npc" type="prop" value="1" />
      </filter-set>
      <reaction-set>
        <reaction text="환마성지 보스 전투종료" type="debug-trace" />
        
        <reaction amount="0" reg="1" target="event:npc-combat-end:npc" type="set-npc-number" />
        <reaction amount="0" reg="1" target="event:npc-combat-end:npc:npc-party" type="set-party-number" />
        <reaction despawn-force="y" group-1="zonenpcsquad:s_4432_35" group-2="zonenpcsquad:s_4432_74" type="despawn-npc-groups" />
        
        <reaction target-1="zonenpcspawn:a_4432_33" type="despawn-npc" />
        <reaction target-1="zonenpcspawn:a_4432_74" type="despawn-npc" />
        <reaction target-1="zonenpcspawn:a_4432_75" type="despawn-npc" />
        <reaction target-1="zonenpcspawn:a_4432_76" type="despawn-npc" />
        
        <reaction target="zonenpcspawn:a_4432_73" target2="zonenpcspawn:a_4432_73" type="kill" />
        
        <reaction spawn-1="a_4432_39" type="spawn-npc" />
        
        <reaction enable="n" target="zoneenv:4432_DMZ_01" target2="zoneenv2spawn:4432_DMZ_01_spawn" type="set-env-enable" />
        <reaction enable="y" target="zoneenv:e_Chest_4432hartA_01" target2="zoneenv2spawn:e_Chest_4432hartA_01_spawn" type="set-env-enable" />
      </reaction-set>
    </decision>
  </script>

  
  <script alias="ME_WB_Dummy_0141_ai">
    
    <decision event="npc-spawn">
      <filter-set>
        <filter subject="event:npc-spawn:npc" subject2="event:npc-spawn:npc" type="event-broadcasted" value="n" />
      </filter-set>
      <reaction-set>
        <reaction amount="10000" opponent="zonenpcspawn:a_4432_72" target="event:npc-spawn:npc" type="diff-npc-hate" />
      </reaction-set>
    </decision>
    
    
    <decision event="npc-special">
      <filter-set>
        <filter subject="event:npc-special:npc" subject2="event:npc-special:npc" type="event-broadcasted" value="n" />
        <filter op="eq" subject="event:npc-special:step" subject2="event:npc-special:step" type="number" value="1" />
      </filter-set>
      <reaction-set>
        <reaction text="환마성지 독액감옥/포화란 디스폰, 보스 전멸기" type="debug-trace" />
        
        <reaction immediately="y" target="zonenpcspawn:a_4432_72" transit-cond-idx="1" type="transit-npc-combat" />
        <reaction immediately="y" target="zonenpcspawn:a_4432_20" transit-cond-idx="1" type="transit-npc-combat" />
        
        <reaction effect="GatlingGunWoman_DispelKneel" target="zonenpcspawn:a_4432_72" type="invoke-effect" />
        <reaction target="event:npc-special:npc" target2="event:npc-special:npc" type="kill" />
        
      </reaction-set>
    </decision>
    
    
    <decision event="killed">
      <filter-set>
        <filter subject="event:killed:defender" subject2="event:killed:defender" type="event-broadcasted" value="n" />
        <filter subject="event:killed:attacker" subject2="event:killed:attacker" type="pc" />
      </filter-set>
      <filter-set>
        <filter subject="event:killed:defender" subject2="event:killed:defender" type="event-broadcasted" value="n" />
        <filter subject="event:killed:attacker" subject2="event:killed:attacker" type="summoned" />
      </filter-set>
      <reaction-set>
        <reaction text="환마성지 독액감옥 파괴 성공" type="debug-trace" />
        <reaction effect="GatlingGunWoman_DispelKneel" target="zonenpcspawn:a_4432_72" type="invoke-effect" />
        
        <reaction from="zonenpcspawn:a_4432_72" social="ME_WB_GatlingGunWoman_0001_battle_02" type="play-social" />
        <reaction special-id="3" target="zonenpcspawn:a_4432_72" type="npc-fire-special" />
        
      </reaction-set>
    </decision>
  </script>

  
  <script alias="ME_WB_Dummy_0142_ai">
    
    <decision event="npc-special">
      <filter-set>
        <filter subject="event:npc-special:npc" subject2="event:npc-special:npc" type="event-broadcasted" value="n" />
        <filter op="eq" subject="event:npc-special:step" subject2="event:npc-special:step" type="number" value="1" />
      </filter-set>
      <reaction-set>
        <reaction text="환마성지 탄창폭발NPC 디스폰" type="debug-trace" />
        
        <reaction target="zonenpcspawn:a_4432_35" target2="zonenpcspawn:a_4432_35" type="kill" />
        <reaction target="zonenpcspawn:a_4432_36" target2="zonenpcspawn:a_4432_36" type="kill" />
        <reaction target="zonenpcspawn:a_4432_37" target2="zonenpcspawn:a_4432_37" type="kill" />
        <reaction target="zonenpcspawn:a_4432_37" target2="zonenpcspawn:a_4432_38" type="kill" />
        <reaction target-1="event:npc-special:npc" type="despawn-npc" />
      </reaction-set>
    </decision>
  </script>

  
  <script alias="ME_WB_SnakeSoldier_0003_ai">
    
    <decision event="attacked">
      <filter-set>
        <filter subject="event:attacked:defender" subject2="event:attacked:defender" type="event-broadcasted" value="n" />
        <filter spawn="a_4432_33" subject="event:attacked:attacker" subject2="event:attacked:attacker" type="npc-spawn" />
      </filter-set>
      <reaction-set>
        <reaction target="event:attacked:defender" target2="event:attacked:defender" type="kill" />
      </reaction-set>
    </decision>
  </script>

  
  <script alias="ME_WB_SnakeSoldier_0004_ai">
    
    <decision event="npc-combat-start">
      <filter-set>
        <filter subject="event:npc-combat-start:npc" subject2="event:npc-combat-start:npc" type="event-broadcasted" value="n" />
        <filter spawn="a_4432_16" subject="event:npc-combat-start:npc" subject2="event:npc-combat-start:npc" type="npc-spawn" />
      </filter-set>
      <reaction-set>
        <reaction text="환마성지 보스방 문지기1 돌진시작" type="debug-trace" />
        <reaction special-id="1" target="event:npc-combat-start:npc" type="npc-fire-special" />
      </reaction-set>
    </decision>
    <decision event="npc-combat-start">
      <filter-set>
        <filter subject="event:npc-combat-start:npc" subject2="event:npc-combat-start:npc" type="event-broadcasted" value="n" />
        <filter spawn="a_4432_17" subject="event:npc-combat-start:npc" subject2="event:npc-combat-start:npc" type="npc-spawn" />
      </filter-set>
      <reaction-set>
        <reaction text="환마성지 보스방 문지기2 돌진시작" type="debug-trace" />
        <reaction special-id="2" target="event:npc-combat-start:npc" type="npc-fire-special" />
      </reaction-set>
    </decision>
    
    <decision event="killed">
      <filter-set>
        <filter subject="event:killed:defender" subject2="event:killed:defender" type="event-broadcasted" value="n" />
        <filter spawn="a_4432_16" subject="event:killed:defender" subject2="event:killed:defender" type="npc-spawn" />
        <filter op="eq" subject="zonenpcsquad:s_4432_16:reg-1" subject2="zonenpcsquad:s_4432_16:reg-1" type="number" value="0" />
      </filter-set>
      <filter-set>
        <filter subject="event:killed:defender" subject2="event:killed:defender" type="event-broadcasted" value="n" />
        <filter spawn="a_4432_17" subject="event:killed:defender" subject2="event:killed:defender" type="npc-spawn" />
        <filter op="eq" subject="zonenpcsquad:s_4432_16:reg-1" subject2="zonenpcsquad:s_4432_16:reg-1" type="number" value="0" />
      </filter-set>
      <reaction-set>
        <reaction amount="1" reg="1" target="zonenpcsquad:s_4432_16" type="diff-party-number" />
      </reaction-set>
    </decision>
    <decision event="killed">
      <filter-set>
        <filter subject="event:killed:defender" subject2="event:killed:defender" type="event-broadcasted" value="n" />
        <filter spawn="a_4432_16" subject="event:killed:defender" subject2="event:killed:defender" type="npc-spawn" />
        <filter op="eq" subject="zonenpcsquad:s_4432_16:reg-1" subject2="zonenpcsquad:s_4432_16:reg-1" type="number" value="1" />
      </filter-set>
      <filter-set>
        <filter subject="event:killed:defender" subject2="event:killed:defender" type="event-broadcasted" value="n" />
        <filter spawn="a_4432_17" subject="event:killed:defender" subject2="event:killed:defender" type="npc-spawn" />
        <filter op="eq" subject="zonenpcsquad:s_4432_16:reg-1" subject2="zonenpcsquad:s_4432_16:reg-1" type="number" value="1" />
      </filter-set>
      <reaction-set>
        <reaction text="환마성지 보스방 문지기 사망 문열기" type="debug-trace" />
        <reaction state="open" state2="open" target="zoneenv:e_gate_4432heakryo_01" target2="zoneenv2spawn:e_gate_4432heakryo_01_spawn" type="set-env-state" />
        
        <reaction target="zonenpcspawn:a_4432_63" target2="zonenpcspawn:a_4432_63" type="kill" />
        <reaction target="zonenpcspawn:a_4432_65" target2="zonenpcspawn:a_4432_65" type="kill" />
        <reaction group-1="zonenpcsquad:s_4432_62" type="spawn-npc-groups" />
      </reaction-set>
    </decision>
  </script>

  
  
  

  

  
  <script alias="ME_WC_SnakeSoldier_0005_ai" parent="Boss_Immune_ai">
    
    <decision event="invoked-effect" forward="y" />
    
    <decision event="npc-combat-start">
      <filter-set>
        <filter subject="event:npc-combat-start:npc" subject2="event:npc-combat-start:npc" type="event-broadcasted" value="n" />
      </filter-set>
      <reaction-set>
        
        <reaction from="event:npc-combat-start:npc" social="ME_WB_SnakeSoldier_0002_combatstart_01" type="play-social" />
        
        <reaction effect="MH_Common_speedup" target="event:npc-combat-start:npc" type="invoke-effect" />
      </reaction-set>
    </decision>

    
    <decision event="npc-special">
      <filter-set>
        <filter subject="event:npc-special:npc" subject2="event:npc-special:npc" type="event-broadcasted" value="n" />
        <filter op="eq" subject="event:npc-special:step" subject2="event:npc-special:step" type="number" value="2" />
      </filter-set>
      <reaction-set>
        <reaction text="환마성지 보스 전투시작 10초 후 포화란 난입" type="debug-trace" />
        <reaction spawn-1="a_4437_3" type="spawn-npc" />
      </reaction-set>
    </decision>

    
    <decision event="npc-bleeding">
      <filter-set>
        <filter subject="event:npc-bleeding:npc" subject2="event:npc-bleeding:npc" type="event-broadcasted" value="n" />
        <filter op="eq" subject="event:npc-bleeding:bleeding-idx" subject2="event:npc-bleeding:bleeding-idx" type="number" value="1" />
      </filter-set>
      <reaction-set>
        
        <reaction from="event:npc-bleeding:npc" social="ME_WB_SnakeSoldier_0002_battle_03" type="play-social" />
      </reaction-set>
    </decision>
    <decision event="npc-bleeding">
      <filter-set>
        <filter subject="event:npc-bleeding:npc" subject2="event:npc-bleeding:npc" type="event-broadcasted" value="n" />
        <filter op="eq" subject="event:npc-bleeding:bleeding-idx" subject2="event:npc-bleeding:bleeding-idx" type="number" value="2" />
      </filter-set>
      <reaction-set>
        
        <reaction from="event:npc-bleeding:npc" social="ME_WB_SnakeSoldier_0002_battle_04" type="play-social" />
      </reaction-set>
    </decision>

    
    <decision event="killed">
      <filter-set>
        <filter subject="event:killed:npc" subject2="event:killed:npc" type="event-broadcasted" value="n" />
      </filter-set>
      <reaction-set>
        <reaction text="환마성지 보스 사망" type="debug-trace" />
        
        <reaction attackable="n" brain="citizen" hate-on="n" npc="zonenpcspawn:a_4437_3" type="set-npc-brain" />
        <reaction seq="ME_WB_GatlingGunWoman_0001_act_01" target="zonenpcspawn:a_4437_3" type="set-npc-act" />
      </reaction-set>
    </decision>
    
    <decision event="npc-combat-end">
      <filter-set>
        <filter subject="event:npc-combat-end:npc" subject2="event:npc-combat-end:npc" type="event-broadcasted" value="n" />
        <filter field="dead" op="neq" subject="event:npc-combat-end:npc" subject2="event:npc-combat-end:npc" type="prop" value="1" />
      </filter-set>
      <reaction-set>
        <reaction text="환마성지 보스 전투종료" type="debug-trace" />
        
        <reaction target-1="zonenpcspawn:a_4437_3" target-2="zonenpcspawn:a_4437_4" target-3="zonenpcspawn:a_4437_5" type="despawn-npc" />
      </reaction-set>
    </decision>
  </script>

  
  <script alias="ME_WC_GatlingGunWoman_0001_ai" parent="Boss_Immune_ai">
    
    <decision event="invoked-effect" forward="y" />
    
    <decision event="npc-spawn">
      <filter-set>
        <filter subject="event:npc-spawn:npc" subject2="event:npc-spawn:npc" type="event-broadcasted" value="n" />
      </filter-set>
      <reaction-set>
        <reaction target="event:npc-spawn:npc" type="set-undying" undying="y" />
        
      </reaction-set>
    </decision>
    
    <decision event="act-finished">
      <filter-set>
        <filter subject="event:act-finished:npc" subject2="event:act-finished:npc" type="event-broadcasted" value="n" />
        <filter subject="event:act-finished:seq" subject2="event:act-finished:seq" type="act-sequence" value="act_pathway1_default" />
      </filter-set>
      <reaction-set>
        <reaction text="환마성지 보스전투 포화란 이동완료" type="debug-trace" />
        <reaction attackable="y" brain="boss" hate-on="y" npc="event:act-finished:npc" type="set-npc-brain" />
        <reaction amount="1000" opponent="zonenpcspawn:a_4437_2" target="event:act-finished:npc" type="diff-npc-hate" />
      </reaction-set>
    </decision>
    
    <decision event="npc-combat-start">
      <filter-set>
        <filter subject="event:npc-combat-start:npc" subject2="event:npc-combat-start:npc" type="event-broadcasted" value="n" />
      </filter-set>
      <reaction-set>
        
        <reaction from="zonenpcspawn:a_4437_3" social="ME_WB_GatlingGunWoman_0001_soc_03" type="play-social" />
        
        <reaction spawn-1="a_4437_4" type="spawn-npc" />
      </reaction-set>
    </decision>

    
    <decision event="npc-special">
      <filter-set>
        <filter subject="event:npc-special:npc" subject2="event:npc-special:npc" type="event-broadcasted" value="n" />
        <filter op="eq" subject="event:npc-special:step" subject2="event:npc-special:step" type="number" value="1" />
      </filter-set>
      <reaction-set>
        <reaction text="환마성지 포화란 유탄발사-&gt;소셜/위치이동" type="debug-trace" />
        
        <reaction from="zonenpcspawn:a_4437_3" social="ME_WB_GatlingGunWoman_0001_battle_01" type="play-social" />
        <reaction special-id="2" target="event:npc-special:npc" type="npc-fire-special" />
      </reaction-set>
    </decision>

    
    <decision event="npc-bleeding">
      <filter-set>
        <filter subject="event:npc-bleeding:npc" subject2="event:npc-bleeding:npc" type="event-broadcasted" value="n" />
        <filter op="eq" subject="event:npc-bleeding:bleeding-idx" subject2="event:npc-bleeding:bleeding-idx" type="number" value="1" />
      </filter-set>
      <reaction-set>
        <reaction text="포화란 디스폰" type="debug-trace" />
        
        <reaction immediately="y" target="zonenpcspawn:a_4437_3" transit-cond-idx="1" type="transit-npc-combat" />
      </reaction-set>
    </decision>

    
    <decision event="npc-special">
      <filter-set>
        <filter subject="event:npc-special:npc" subject2="event:npc-special:npc" type="event-broadcasted" value="n" />
        <filter op="eq" subject="event:npc-special:step" subject2="event:npc-special:step" type="number" value="3" />
      </filter-set>
      <reaction-set>
        <reaction text="환마성지 포화란 디스폰" type="debug-trace" />
        
        <reaction target="zonenpcspawn:a_4437_3" type="reset-npc-all-hate" />
        <reaction attackable="n" brain="citizen" hate-on="n" npc="zonenpcspawn:a_4437_3" type="set-npc-brain" />
        
        <reaction special-id="2" target="zonenpcspawn:a_4437_2" type="npc-fire-special" />
        
        <reaction spawn-1="a_4437_5" type="spawn-npc" />
        
        <reaction seq="ME_WB_GatlingGunWoman_0001_act_02" target="event:npc-special:npc" type="set-npc-act" />
        <reaction target-1="zonenpcspawn:a_4437_3" type="despawn-npc" />
      </reaction-set>
    </decision>
  </script>

  
  <script alias="CH_WB_ChungGak_0034_ai">
    <quest-decision alias="qd_993_3">
      <reaction-set>
        <reaction text="qd_993_3" type="debug-trace" />
        <reaction pc-spawn="1" target="case:talked:pc" type="warp" zone="zone_HeukRyong_Epic6_single" />
      </reaction-set>
    </quest-decision>
  </script>
</table>